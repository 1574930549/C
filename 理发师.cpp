int i=0;
int j=N;
semaphore p=0,q=0,x=1;
lifashi()
while(true);
p(p);
p(x);
i:=i-1;
V(q);
V(x);
cut();
guke()
P(x);
if(i)
{
    i:=i+1;
    V(p);
    V(x);
    P(q);
    get();

}
else{
    V(x);
}